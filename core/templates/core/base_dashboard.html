{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}Panel{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" href="{% static 'img/logo2.jpeg' %}">

  <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
  <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
  <link rel="stylesheet" href="{% static 'css/dashboard.patch.css' %}">
  <link rel="stylesheet" href="{% static 'css/responsive.patch.css' %}">


  <!-- Iconos (Font Awesome) -->
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  {% block extra_css %}{% endblock %}
</head>
<body>

  <!-- NAVBAR -->
  <header class="navbar" id="navbar" role="navigation" aria-label="Barra principal">
    <!-- Botón hamburguesa (coincide con dashboard.js) -->
    <button class="menu-toggle" id="menu-toggle"
            aria-label="Abrir menú"
            aria-controls="navMenu"
            aria-expanded="false">
      <i class="fas fa-bars" aria-hidden="true"></i>
    </button>

    <div class="nav-left">
      <img class="logo" src="{% static 'img/logo2.jpeg' %}" alt="Logo">
      <div class="nav-title">
        <h3 class="nowrap">Millennials</h3>
        <span class="user-name">{{ request.user.usuario }} · {{ request.user.rol }}</span>
      </div>
    </div>

    <!-- Menú principal -->
    <nav class="nav-menu" id="navMenu" aria-label="Navegación principal">
      <a href="{% url 'dashboard_rector' %}">Inicio</a>
      <a href="{% url 'rector_estudiantes_a_grupos' %}">Estudiantes a grupos</a>
      <a href="{% url 'rector_asignacion_docentes_grupos' %}">Asignación de Docentes a grupos</a>
      <a href="{% url 'core:planillas_index' %}" class="btn btn-dark rounded-pill px-3">Planillas</a>
    </nav>

    <div class="nav-right">
      <a class="btn-logout" href="{% url 'logout' %}">Salir</a>
    </div>
  </header>

  <!-- Backdrop para menú móvil (dashboard.js lo reutiliza si existe) -->
  <div class="nav-backdrop" id="navBackdrop" hidden aria-hidden="true"></div>

  {# ======= BANNER OPCIONAL BAJO LA NAVBAR (franja roja) ======= #}
  {% block page_banner %}{% endblock %}

  <!-- CONTENIDO -->
  <main class="main" role="main">
    <div class="container">
      {% block content %}{% endblock %}
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer" role="contentinfo" aria-label="Pie de página del sitio">
    <div class="footer-inner">
      <div class="footer-left">
        <img src="{% static 'img/logo2.jpeg' %}" alt="Logo" class="footer-logo">
        <div class="footer-school">
          <div class="school-name">Institución Educativa</div>
          <div class="school-sub">Sistema Millennials</div>
        </div>
      </div>

      <div class="footer-center">© {% now "Y" %} — Todos los derechos reservados</div>

      <div class="footer-right">
        <div class="footer-links">
          <a href="#">Soporte</a>
          <a href="#">Privacidad</a>
          <a href="#">Términos</a>
        </div>
        <div class="copyright">v1.0</div>
      </div>
    </div>
  </footer>

  <!-- JS global del dashboard -->
  <script src="{% static 'js/dashboard.js' %}" defer></script>
  {% block extra_js %}{% endblock %}
</body>
</html>
