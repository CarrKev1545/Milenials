{% extends "core/base_dashboard_docente.html" %}
{% load static %}

{% block title %}Panel del Docente{% endblock %}

{% block content %}
<main class="main" role="main">
  <div class="cards">
    <!-- Registro de notas -->
    <article class="card home-card" role="button" tabindex="0" aria-labelledby="label-registro-notas" data-link="{% url 'docente_registro_notas_filtro' %}">
      <div class="card-header">
        <h2>Registro de Notas</h2>
      </div>
      <div class="card-box">
        <i class="fa-solid fa-clipboard-list" aria-hidden="true"></i>
      </div>
      <a id="label-registro-notas" class="label btn btn--danger" href="{% url 'docente_registro_notas_filtro' %}">
        Registro de notas
      </a>
    </article>

    <!-- Reportes académicos -->
    <article class="card home-card" role="button" tabindex="0" aria-labelledby="label-reportes-academicos" data-link="{% url 'docente_reportes_academicos_filtro' %}">
      <div class="card-header">
        <h2>Reportes Académicos</h2>
      </div>
      <div class="card-box">
        <i class="fa-solid fa-file-lines" aria-hidden="true"></i>
      </div>
      <a id="label-reportes-academicos" class="label btn btn--danger" href="{% url 'docente_reportes_academicos_filtro' %}">
        Reportes académicos
      </a>
    </article>
  </div>
</main>
{% endblock %}

{% block extra_js %}
<script>
  // Toda la tarjeta es clickeable (como en Rector)
  document.addEventListener('click', (ev) => {
    const card = ev.target.closest('.card[data-link]');
    if (!card) return;
    const url = card.getAttribute('data-link');
    if (url) window.location.href = url;
  });

  // Accesible con Enter/Espacio
  document.addEventListener('keydown', (ev) => {
    if (ev.key !== 'Enter' && ev.key !== ' ') return;
    const card = document.activeElement && document.activeElement.closest('.card[data-link]');
    if (!card) return;
    ev.preventDefault();
    const url = card.getAttribute('data-link');
    if (url) window.location.href = url;
  });
</script>
{% endblock %}
